<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gzyz.mapper.users.ManagerListMapper">
<!-- 查询所以管理员 -->
<select id="queryAllManager" resultType="manger">
select * from manger
</select>
<!-- 分页查询管理员 -->
<select id="queryAllManagerLimit" parameterType="int" resultType="manger">
select * 
from manger
limit #{startindex},12
</select>
<!-- 增加管理员 -->
<insert id="insertManager" parameterType="manger">
insert into 
manger(manger_name,manger_password,manger_tele,manger_sex,manger_age) 
values(#{manger_name},#{manger_password},#{manger_tele},#{manger_sex},#{manger_age}) 
</insert>
<!-- 修改管理员 -->
<update id="updateManager" parameterType="manger">
update goods
<set >
      <if test="manger_name != null" >
        manger_name = #{manger_name,jdbcType=VARCHAR},
      </if>
      <if test="manger_password != null" >
        manger_password = #{manger_password,jdbcType=VARCHAR},
      </if>
      <if test="manger_sex != null" >
        manger_sex = #{manger_sex,jdbcType=INTEGER},
      </if>
      <if test="manger_tele != null" >
        manger_tele = #{manger_tele,jdbcType=INTEGER},
      </if>
      <if test="manger_age != null" >
        manger_age = #{manger_age,jdbcType=INTEGER},
      </if>
    </set>
where goods_id=#{goods_id}  
</update>
<!-- 修改管理员前置查询 -->
<select id="queryBefroeUpdateManager" parameterType="int" resultType="manger">
select * from manger where manger_id=#{manger_id}
</select>
</mapper>